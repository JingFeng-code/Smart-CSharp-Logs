---
title: SQL - å‚™ä»½èˆ‡é‚„åŸ
tags:
  - SQL
  - å‚™ä»½
  - é‚„åŸ
  - Disaster
  - Recovery
  - è³‡æ–™å®‰å…¨
aliases:
  - è³‡æ–™å‚™ä»½
  - Database Backup
  - è³‡æ–™é‚„åŸ
created: 2025-06-23
updated: 2025-06-23
status: å®Œæˆ
summary: ä»‹ç´¹ SQL Server çš„å‚™ä»½èˆ‡é‚„åŸæ©Ÿåˆ¶ï¼ŒåŒ…å«å‚™ä»½é¡å‹ã€åŸºæœ¬æŒ‡ä»¤èˆ‡å¯¦å‹™å»ºè­°ã€‚
---

# ğŸ’¾ å‚™ä»½ï¼ˆBackupï¼‰

---

## å‚™ä»½é¡å‹

| é¡å‹        | èªªæ˜                         |
|-----------|----------------------------|
| å®Œæ•´å‚™ä»½ (Full Backup)  | å‚™ä»½æ•´å€‹è³‡æ–™åº«çš„æ‰€æœ‰è³‡æ–™ã€‚           |
| å·®ç•°å‚™ä»½ (Differential Backup) | å‚™ä»½è‡ªä¸Šæ¬¡å®Œæ•´å‚™ä»½å¾Œè®Šæ›´çš„è³‡æ–™ã€‚      |
| äº¤æ˜“è¨˜éŒ„å‚™ä»½ (Transaction Log Backup) | å‚™ä»½äº¤æ˜“æ—¥èªŒï¼Œç”¨æ–¼é»æ™‚é–“é‚„åŸã€‚        |

---

## å‚™ä»½èªæ³•ç¯„ä¾‹

```sql
-- å®Œæ•´å‚™ä»½
BACKUP DATABASE DatabaseName
TO DISK = 'D:\Backup\DatabaseName_Full.bak';

-- å·®ç•°å‚™ä»½
BACKUP DATABASE DatabaseName
TO DISK = 'D:\Backup\DatabaseName_Diff.bak'
WITH DIFFERENTIAL;

-- äº¤æ˜“è¨˜éŒ„å‚™ä»½
BACKUP LOG DatabaseName
TO DISK = 'D:\Backup\DatabaseName_Log.trn';
```

---
# ğŸ”„ é‚„åŸï¼ˆRestoreï¼‰

## é‚„åŸæŒ‡ä»¤ç¯„ä¾‹

```sql
-- é‚„åŸå®Œæ•´å‚™ä»½
RESTORE DATABASE DatabaseName
FROM DISK = 'C:\Backup\DatabaseName_Full.bak'
WITH REPLACE;

-- é‚„åŸå·®ç•°å‚™ä»½ï¼ˆéœ€å…ˆé‚„åŸå®Œæ•´å‚™ä»½ï¼‰
RESTORE DATABASE DatabaseName
FROM DISK = 'C:\Backup\DatabaseName_Full.bak'
WITH NORECOVERY;

RESTORE DATABASE DatabaseName
FROM DISK = 'C:\Backup\DatabaseName_Diff.bak'
WITH RECOVERY;

-- é‚„åŸäº¤æ˜“æ—¥èªŒï¼ˆåœ¨å·®ç•°å‚™ä»½å¾Œï¼‰
RESTORE LOG DatabaseName
FROM DISK = 'C:\Backup\DatabaseName_Log.trn'
WITH RECOVERY;
```

---
## æ³¨æ„äº‹é …

- å‚™ä»½æª”æ¡ˆæ‡‰å¦¥å–„ä¿å­˜ä¸”å®šæœŸæ¸¬è©¦é‚„åŸã€‚
- é‚„åŸè³‡æ–™åº«æ™‚æ³¨æ„èˆ‡ç·šä¸Šè³‡æ–™åº«çš„é€£ç·šç‹€æ…‹ã€‚
- æ ¹æ“šæ¥­å‹™éœ€æ±‚åˆ¶å®šåˆé©çš„å‚™ä»½ç­–ç•¥ã€‚