---
title: SQL - 索引與效能優化
tags:
  - SQL
  - 索引
  - 效能優化
  - 查詢速度
  - 資料庫優化
aliases:
  - 資料庫效能
  - 查詢優化
  - Index
created: 2025-06-23
updated: 2025-06-23
status: 完成
summary: 介紹 SQL Server 中索引的種類、原理與如何使用索引來提升查詢效能，並介紹效能優化的常見方法。
---

# ⚡ SQL 索引與效能優化

---

## 索引的目的

- 加速資料搜尋與查詢，提高查詢效率。
- 減少資料掃描範圍，降低 I/O 負擔。

---

## 常見索引類型

| 類型            | 說明                              |
|-----------------|---------------------------------|
| **聚集索引** (Clustered Index)   | 資料實際排序依據，資料表只能有一個聚集索引。          |
| **非聚集索引** (Non-Clustered Index) | 建立獨立索引結構，包含欄位值與資料指標，可有多個。      |
| **唯一索引** (Unique Index)      | 保證索引欄位唯一性，避免重複資料。                    |
| **全文索引** (Full-Text Index)   | 支援文字資料的全文搜尋。                              |

---

## 如何建立索引

```sql
-- 建立非聚集索引
CREATE NONCLUSTERED INDEX IX_Employees_Name
ON Employees(Name);
```


---
## 使用索引的注意事項

- 適合在查詢條件中經常使用的欄位建立索引。
- 不宜對頻繁更新的欄位建立索引，會增加維護成本。
- 過多索引會影響寫入效能，需平衡使用。
- 使用 `EXPLAIN`（執行計畫）分析查詢是否使用索引。

---
## 效能優化常用技巧

- **選擇適當的資料型別**，避免使用過大欄位。
- **避免 SELECT ***，只選需要的欄位。
- **使用 WHERE 條件減少資料量**。
- **適當使用 JOIN，避免過多連結**。
- **善用索引與統計資訊**。
- **避免使用不必要的子查詢與函數**。

---
## 查詢執行計畫 (Execution Plan)

- SQL Server Management Studio (SSMS) 提供圖形化查詢執行計畫。
- 可以幫助找出查詢瓶頸與索引缺失。