---
title: ğŸ—ƒï¸ 011.3-CoreMVC-æ¨¡å‹è¨­è¨ˆèˆ‡è³‡æ–™ç¶å®š (Model)
tags:
  - ASP.NET Core
  - MVC
  - Model
  - è³‡æ–™ç¶å®š
  - è³‡æ–™é©—è­‰
aliases:
  - CoreMVC Model
  - ASP.NET Core è³‡æ–™ç¶å®š
created: 2025-07-02
updated: 2025-07-02
status: è‰ç¨¿
summary: ä»‹ç´¹ ASP.NET Core MVC çš„æ¨¡å‹è¨­è¨ˆåŸå‰‡ã€è³‡æ–™ç¶å®šèˆ‡é©—è­‰æ©Ÿåˆ¶ï¼ŒåŒ…å« Modelã€ViewModelã€è³‡æ–™è¨»è§£èˆ‡å¯¦å‹™æ‡‰ç”¨æŠ€å·§ã€‚
---

## ğŸ—ƒï¸ Modelï¼ˆæ¨¡å‹ï¼‰åŸºç¤

- **Model** æ˜¯ MVC æ¶æ§‹ä¸­è² è²¬è³‡æ–™çµæ§‹ã€å•†æ¥­é‚è¼¯èˆ‡è³‡æ–™é©—è­‰çš„æ ¸å¿ƒå…ƒä»¶ã€‚
- å¸¸è¦‹é¡å‹ï¼š
  - **è³‡æ–™æ¨¡å‹ï¼ˆEntity/Domain Modelï¼‰**ï¼šå°æ‡‰è³‡æ–™åº«å¯¦é«”ï¼Œç”¨æ–¼è³‡æ–™å­˜å–èˆ‡å•†æ¥­é‚è¼¯ã€‚
  - **ViewModel**ï¼šå°ˆç‚º View è¨­è¨ˆçš„è³‡æ–™çµæ§‹ï¼Œåƒ…åŒ…å«é é¢æ‰€éœ€æ¬„ä½ï¼Œé¿å…æš´éœ²å¤šé¤˜è³‡æ–™ã€‚

---
## ğŸ› ï¸ Model è¨­è¨ˆç¯„ä¾‹

```csharp
public class Product  
{  
	public int Id { get; set; }
	[Required]
	[StringLength(100)]
	public string Name { get; set; }

	[Range(0, 99999)]
	public decimal Price { get; set; }

	public DateTime CreatedAt { get; set; }
}
```
- ä½¿ç”¨ **è³‡æ–™è¨»è§£ï¼ˆData Annotationsï¼‰** é€²è¡Œæ¬„ä½é©—è­‰ï¼ˆå¦‚ `[Required]`ã€`[StringLength]`ã€`[Range]`ï¼‰ã€‚

---
## ğŸ”„ è³‡æ–™ç¶å®šï¼ˆModel Bindingï¼‰

- ASP.NET Core æœƒè‡ªå‹•å°‡ HTTP è«‹æ±‚ä¸­çš„è³‡æ–™ï¼ˆURLã€QueryStringã€Formã€Routeã€JSONï¼‰ç¶å®šåˆ° Action æ–¹æ³•åƒæ•¸æˆ– Modelã€‚
- æ”¯æ´åŸºæœ¬å‹åˆ¥ã€è¤‡é›œå‹åˆ¥èˆ‡é›†åˆå‹åˆ¥è‡ªå‹•ç¶å®šã€‚

### å¸¸è¦‹ç¶å®šä¾†æº

| è³‡æ–™ä¾†æº     | å±¬æ€§            | ç¯„ä¾‹ç”¨æ³•                          |
|:------------|:---------------|:----------------------------------|
| è·¯ç”±        | [FromRoute]     | `public IActionResult Edit([FromRoute]int id)` |
| æŸ¥è©¢å­—ä¸²    | [FromQuery]     | `public IActionResult List([FromQuery]string keyword)` |
| è¡¨å–®        | [FromForm]      | `public IActionResult Create([FromForm]Product model)` |
| JSON Body   | [FromBody]      | `public IActionResult Api([FromBody]Product model)`    |

- ä¸€èˆ¬ MVC é è¨­æœƒè‡ªå‹•ç¶å®šè¡¨å–®èˆ‡è·¯ç”±è³‡æ–™ï¼ŒAPI å¸¸éœ€æ˜ç¢ºæ¨™è¨»ä¾†æºã€‚

---
## âœ… è³‡æ–™é©—è­‰ï¼ˆModel Validationï¼‰

- **ModelState** ç‰©ä»¶å¯ç”¨æ–¼æª¢æŸ¥è³‡æ–™é©—è­‰çµæœï¼Œå¸¸è¦‹æ–¼è¡¨å–®é€å‡ºå¾Œï¼š

```csharp
[HttpPost]  
public IActionResult Create(Product model)  
{  
	if (ModelState.IsValid)  
{  
// è³‡æ–™é€šéé©—è­‰ï¼ŒåŸ·è¡Œå¾ŒçºŒé‚è¼¯  
}  
	return View(model);  
}
```

- æ”¯æ´è‡ªè¨‚é©—è­‰å±¬æ€§ï¼ˆç¹¼æ‰¿ `ValidationAttribute`ï¼‰ï¼Œæˆ–æ–¼ View é¡¯ç¤ºé©—è­‰è¨Šæ¯ã€‚

---
## ğŸ“ ViewModel è¨­è¨ˆèˆ‡æ‡‰ç”¨

- **ViewModel** ç”¨æ–¼è¤‡é›œè¡¨å–®ã€è·¨å¤šå€‹ Model çš„ç•«é¢è³‡æ–™æ•´åˆï¼Œæå‡å®‰å…¨æ€§èˆ‡å½ˆæ€§ã€‚
- å¯æ­é… AutoMapper ç­‰å·¥å…·é€²è¡Œ Model èˆ‡ ViewModel ä¹‹é–“çš„è½‰æ›ã€‚

```csharp
public class ProductEditViewModel  
{  
	public int Id { get; set; }  
	public string Name { get; set; }  
	public decimal Price { get; set; }  
	public string CategoryName { get; set; }  
}
```


---
## âš ï¸ å¸¸è¦‹å•é¡Œèˆ‡å»ºè­°

- **é¿å…åœ¨ View ç›´æ¥ä½¿ç”¨è³‡æ–™åº«å¯¦é«”**ï¼Œå»ºè­°ä½¿ç”¨ ViewModel éš”é›¢ã€‚
- **è³‡æ–™é©—è­‰ç›¡é‡æ–¼ Model å±¤è™•ç†**ï¼Œæ¸›å°‘é‡è¤‡é‚è¼¯ã€‚
- **è¤‡é›œé©—è­‰å¯è‡ªè¨‚å±¬æ€§æˆ–æ–¼ Service å±¤è™•ç†**ã€‚
- **Model Binding æ”¯æ´å¤šèªç³»éŒ¯èª¤è¨Šæ¯**ï¼Œå¯è‡ªè¨‚è³‡æºæª”ã€‚

---
## ğŸ”— ç›¸é—œå¡ç‰‡

- [[011.2-CoreMVC-è·¯ç”±èˆ‡æ§åˆ¶å™¨ (Controller)]]
- [[011.4-CoreMVC-è¦–åœ–èˆ‡ Razor èªæ³• (View)]]
- [[011.5-CoreMVC-è¡¨å–®è™•ç†èˆ‡é©—è­‰]]


