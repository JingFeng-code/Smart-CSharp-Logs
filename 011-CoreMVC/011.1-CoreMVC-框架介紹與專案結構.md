---
title: 🏗️ 011.1-CoreMVC-框架介紹與專案結構
tags:
  - ASP-NET
  - Core
  - MVC
  - 專案結構
  - 架構設計
aliases:
  - CoreMVC 框架介紹
  - ASP.NET Core MVC 概念
created: 2025-07-02
updated: 2025-07-02
status: 草稿
summary: 介紹 ASP.NET Core MVC 的核心架構理念、MVC 設計模式與專案目錄結構，協助建立現代 .NET 後端開發的基礎認知。

---
學習 ASP.NET Core MVC 這個強大的 Web 框架，就像是準備要搭建一棟厲害的數位建築，而了解其「骨架」和「設計圖」是第一步，也是最重要的一步。

## 🏗️ ASP.NET Core MVC 框架簡介

* **跨平台建造**：程式碼可運行於 Windows、macOS 及 Linux 等多種作業系統，實現高度彈性。

* **模組化設計（MVC 模式）**：採用 **MVC（Model-View-Controller）設計模式**，將應用程式邏輯區分為三大核心職責，有利於提升開發效率、維護性與擴展性。
	* **Model (模型)**：定義資料結構、商業邏輯、資料驗證與存取。其職責專注於「是什麼」和「該怎麼運作」。 
	* **View (視圖)**：負責使用者介面呈現。只專注於「長什麼樣」。
	* **Controller (控制器)**：接收請求、調用 Model、決定回應哪個 View。負責協調各部分，處理「怎麼做」。

* **支援現代技術**：框架內建或支援 **RESTful API**、**Razor Pages**、**依賴注入 (Dependency Injection)**、**模組化中介軟體 (Middleware)**、以及便利的**單元測試**等現代開發實踐。

---
## 🧩 MVC 設計模式核心概念

MVC 設計模式的核心在於「職責分離」。每個組件專注於自身的核心職責，降低了模組間的耦合度，有助於專案的維護與測試。

| 組件 | 職責說明 | 簡化理解 |
| :--------- | :---------------------------------------- | :----------------------------- |
| **Model** | 定義資料結構、商業邏輯、資料驗證與存取 | 應用程式的**數據與規則**核心。 |
| **View** | 呈現資料，負責 UI 顯示與前端互動 | 應用程式的**使用者介面**。 |
| **Controller** | 接收請求、調用 Model、決定回應哪個 View | 應用程式的**請求處理與協調者**。 |

**優點：** 
* **分工明確**：有助於團隊協作與程式碼可讀性。
* **易於維護與測試**：單一職責原則讓各部分能獨立修改與測試，減少相互影響。
* **彈性擴展**：更容易替換或擴展前端技術、資料來源等組件。

---
### **💡 後設認知思考：** 若將所有邏輯（資料處理、介面呈現、請求響應）都集中於單一檔案中，可能面臨哪些挑戰？這種設計模式為何能有效避免這些問題？

---
## 📁 ASP.NET Core MVC 專案目錄結構：標準化藍圖

建立 ASP.NET Core MVC 專案時，Visual Studio 或 `dotnet CLI` 會自動生成一個標準的專案骨架，規劃好各個功能區域：

```text
MyProject/
├── Controllers/ # 控制器，負責處理請求與業務流程入口
├── Models/ # 資料模型，定義資料結構、驗證與部分商業邏輯
├── Views/ # 視圖，Razor 檔案（.cshtml），負責 UI 呈現
├── wwwroot/ # 靜態資源（CSS、JS、圖片等），可公開存取
├── Data/ # 資料存取層，通常存放 DbContext 和資料庫操作相關程式碼 (建議自建)
├── Services/ # 業務邏輯服務層，處理複雜的商業邏輯，常透過 DI 注入 (建議自建)
├── Middleware/ # 自訂中介軟體，處理請求/回應管線中的自訂邏輯 (可選，建議自建)
├── appsettings.json # 應用程式組態檔，儲存設定值、連線字串等
├── Program.cs # 應用程式進入點，負責主機設定、服務註冊與中介軟體管線設定
└── ... # 其他：如 Migrations、Resources、Tests 等
```
- **`Controllers/`**：包含處理 HTTP 請求並返回響應的類別。
- **`Models/`**：定義應用程式中資料的結構與相關驗證規則。
- **`Views/`**：包含用 Razor 語法編寫的視圖檔案，用於生成 HTML 響應。
- **`wwwroot/`**：存放公共的靜態資源，如 CSS 樣式表、JavaScript 檔案和圖像。
- **`Data/` 和 `Services/`**：這些是**推薦建立的資料夾**，用於實現更清晰的**分層架構**，分別負責資料庫互動與核心業務邏輯。
- **`appsettings.json`**：配置應用程式運行時的各種設定。
- **`Program.cs`**：從 .NET 6 開始，此檔案負責應用程式的啟動配置，包括設定主機、服務註冊和 HTTP 請求處理管線。
---
### **💭 應用情境思考：**
一個網站需要顯示產品圖片，該圖片檔案應放置於專案結構中的哪個目錄，才能確保瀏覽器能正確載入？

---
## 🛠️ 專案初始化與開發流程：從零開始

啟動 ASP.NET Core MVC 專案的過程：
1. **建立專案**  
	- 使用 CLI：`dotnet new mvc -n MyProject`
	- 或透過 Visual Studio 建立「ASP.NET Core Web 應用程式 (Model-View-Controller)」範本。

2. **專案結構調整**  
	- 依據專案需求，新增如 `Data`、`Services`、`ViewModels` 等資料夾，以優化程式碼組織。
	- 配置 `appsettings.json` 以管理應用程式設定和環境變數。

3. **開發流程建議**  
	- **優先設計 Model**：先定義好資料結構和關係，這是應用程式的基石。
	- **接著撰寫 Controller 與 View**：基於 Model 設計請求處理邏輯和使用者介面。
	- **善用依賴注入 (DI)**：實踐鬆耦合，提升程式碼的彈性和可測試性。
	- **分層設計**：將程式碼邏輯劃分為不同層次（例如：表示層、業務邏輯層、資料存取層），有助於大型專案的維護與擴展。

---
## ⚠️ 常見問題與實務建議

- **專案結構的彈性**：雖然存在建議的慣例，但實際專案結構可依團隊協作模式和專案規模靈活調整。
- **.NET 6 的變革**：從 **.NET 6** 開始，`Startup.cs` 的功能已整合至 **`Program.cs`**，使專案啟動程式碼更為精簡。
- **資料夾命名多樣性**：除了基礎目錄，可根據職責細分更多資料夾，如 `ViewModels`、`DTOs`、`Repositories`、`Helpers` 等，以提高程式碼組織性。
- **Razor Pages 的選擇**：對於頁面導向或較簡單的功能，**Razor Pages** 是另一個可行的選項，與 MVC 可在同一專案中並存。

---
## 🔗 相關卡片

- [[011.2-CoreMVC-路由與控制器 (Controller)]]
- [[011.3-CoreMVC-模型設計與資料綁定 (Model)]]
- [[011.4-CoreMVC-視圖與 Razor 語法 (View)]]


