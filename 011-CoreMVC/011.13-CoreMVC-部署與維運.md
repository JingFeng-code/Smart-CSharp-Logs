---
title: 🚀 011.13-CoreMVC-部署與維運
tags:
  - ASP.NET Core
  - MVC
  - 部署
  - 維運
  - CI/CD
aliases:
  - CoreMVC 部署
  - ASP.NET Core 維運
created: 2025-07-02
updated: 2025-07-02
status: 草稿
summary: 系統化整理 ASP.NET Core MVC 應用的部署與維運流程，涵蓋組態管理、IIS/Linux/Azure 部署、自動化持續整合、監控與安全性最佳實務，協助打造穩定可擴充的生產環境。
---

## 🚀 部署前準備與最佳實務

- **建置模式**：確認以 Release 模式建置，優化效能並移除除錯資訊。
- **組態管理**：依環境（開發/測試/正式）設定連線字串、API 金鑰等敏感資訊，建議使用環境變數或安全組態服務。
- **依賴與套件**：確保所有 NuGet 套件與依賴已更新且完整。
- **安全性檢查**：啟用 HTTPS、設定 CORS、加強敏感資料保護。
- **測試與備份**：於 Staging 環境完整測試，並定期備份資料與設定。

---
## 🗂️ 常見部署方式

| 部署方式           | 適用情境             | 特點與說明                                                                 |
|:------------------|:--------------------|:--------------------------------------------------------------------------|
| 檔案系統部署      | 小型專案/手動維運    | 直接將發行檔案複製到伺服器資料夾，簡單但人工操作較多[2][5]                     |
| Web Deploy (MSDeploy) | IIS/自動化部署  | 支援 Visual Studio 一鍵發佈、設定檔轉換、自動化流程，適合持續整合[2][5][6]      |
| SSH/SCP 部署      | Linux/跨平台         | 透過 SSH/SCP 上傳至 Linux/Nginx，彈性高，適合 DevOps 自動化腳本[4][6]           |
| Azure App Service | 雲端平台             | 支援 Visual Studio/Azure DevOps 直接發佈，具備自動擴展、監控、部署槽等功能[2][5] |
| 容器化部署        | 微服務/跨雲環境      | 使用 Docker 容器，支援 Kubernetes、雲端原生部署[1]                              |

---
## 🛠️ Web Deploy 與自動化流程

- **Web Deploy (MSDeploy)**：可透過 Visual Studio 設定發行設定檔（.pubxml），一鍵部署至 IIS，支援參數化與檔案過濾。
- **自動化部署**：結合 Jenkins、Azure DevOps、GitHub Actions 等 CI/CD 工具，於程式碼提交後自動建置、測試與部署。
- **IIS 部署**：需設定應用程式集區、權限與目錄，並可搭配 Web Deploy 或手動複製。
- **Linux/Nginx 部署**：於 Linux 安裝 .NET Runtime，設定 Nginx 反向代理，支援 systemd 管理服務。

---
## ☁️ 雲端部署與維運

- **Azure App Service**：支援自動擴展、部署槽（staging/production）、SSL、監控與診斷。
- **自動化管線**：可於 Azure DevOps 設定 Build/Release Pipeline，實現持續整合與自動回滾。
- **容器化與 Kubernetes**：以 Docker 打包，部署至 AKS/EKS/GKE 等雲端 Kubernetes 叢集。

---
## 🏆 維運與監控建議

- **監控工具**：建議整合 Application Insights、ELK Stack、Prometheus/Grafana 監控應用運作與效能。
- **日誌管理**：集中管理應用日誌，便於追蹤錯誤與分析瓶頸。
- **自動備份與還原**：定期備份資料庫與設定，設計自動化還原流程。
- **安全性維運**：定期更新安全修補、檢查權限設定、啟用防火牆與 DDoS 防護。
- **可用性測試**：部署前於 staging 環境進行壓力測試與回歸測試。

---
## ⚠️ 常見問題與排查

- **部署失敗**：檢查組態、依賴、權限與目錄設定，並檢閱自動化部署日誌[2][5][6]。
- **IIS 啟動異常**：確認 .NET Runtime 版本、應用程式集區權限與端口佔用[5][6]。
- **Linux 啟動失敗**：檢查 systemd 服務設定、Nginx Proxy 與防火牆規則[4]。
- **自動化流程中斷**：檢查 CI/CD Pipeline 設定、API 權杖與網路連線[3][5][6]。

---
## 🔍 延伸學習資源

- [Microsoft Learn：ASP.NET Core 主機與部署指引][5]
- [Athen Tech：ASP.NET MVC 部署與主機最佳實務][2]
- [BuildMaster：CI/CD 部署流程教學][3]
- [GSS 部落格：Web Deploy 與 SSH 部署比較][6]
- [CSDN：Linux 環境部署 ASP.NET Core][4]
- [ASP.NET Core 8 開發實戰：部署與維運][1]

---
## 🔗 相關卡片

- [[011.11-CoreMVC-效能優化與快取]]
- [[011.12-CoreMVC-單元測試與自動化]]
- [[011.10-CoreMVC-安全性與授權 (Authentication & Authorization)]]
