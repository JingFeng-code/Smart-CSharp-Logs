---
title: 008.11.h-JS-äº‹ä»¶ç¶å®šé¸é … capture  
tags: [JavaScript, capture, äº‹ä»¶ç¶å®š, äº‹ä»¶éšæ®µ, DOMäº‹ä»¶]  
aliases: [JSäº‹ä»¶ capture, addEventListener ç¬¬ä¸‰åƒæ•¸, æ•ç²éšæ®µ]  
created: 2025-06-25  
updated: 2025-06-25  
status: å®Œæˆ  
summary: èªªæ˜ `addEventListener` ä¸­çš„ `capture` é¸é …ï¼Œæ§åˆ¶äº‹ä»¶è™•ç†å™¨æ˜¯å¦åœ¨æ•ç²éšæ®µåŸ·è¡Œã€‚
---

## ğŸ“Œ ä»€éº¼æ˜¯ `capture`ï¼Ÿ

- `capture` æ˜¯ `addEventListener` çš„ä¸€å€‹é¸é …ï¼Œç”¨ä¾†æŒ‡å®šäº‹ä»¶è™•ç†å™¨æ˜¯å¦æ‡‰åœ¨**æ•ç²éšæ®µï¼ˆcapturing phaseï¼‰**è§¸ç™¼ã€‚  
- é è¨­ç‚º `false`ï¼Œå³äº‹ä»¶è™•ç†å™¨æœƒåœ¨**å†’æ³¡éšæ®µï¼ˆbubbling phaseï¼‰**åŸ·è¡Œã€‚

---

## ğŸ” ä½¿ç”¨æ–¹å¼

```js
element.addEventListener('click', handler, true); // æ•ç²éšæ®µè§¸ç™¼
element.addEventListener('click', handler, false); // å†’æ³¡éšæ®µï¼ˆé è¨­ï¼‰
```

ä¹Ÿå¯ä»¥ä½¿ç”¨é¸é …ç‰©ä»¶ï¼š

```javascript
element.addEventListener('click', handler, {
  capture: true
});
```

---

## ğŸ“˜ æ•ç² vs å†’æ³¡

- **æ•ç²éšæ®µ**ï¼šäº‹ä»¶å¾æ ¹ç¯€é»å‘ç›®æ¨™ç¯€é»å‚³éçš„éç¨‹
- **å†’æ³¡éšæ®µ**ï¼šäº‹ä»¶å¾ç›®æ¨™ç¯€é»å‘å¤–å±¤çˆ¶ç¯€é»åå‘å‚³é

ğŸ”½ äº‹ä»¶å‚³éé †åºï¼ˆè‹¥çš†æœ‰ç›£è½ï¼‰ï¼š

1. `document`ï¼ˆæ•ç²éšæ®µï¼‰
2. `çˆ¶å…ƒç´ `ï¼ˆæ•ç²éšæ®µï¼‰
3. `ç›®æ¨™å…ƒç´ `ï¼ˆæ•ç²èˆ‡å†’æ³¡ï¼‰
4. `çˆ¶å…ƒç´ `ï¼ˆå†’æ³¡éšæ®µï¼‰
5. `document`ï¼ˆå†’æ³¡éšæ®µï¼‰

---

## ğŸ§ª ç¯„ä¾‹ç¨‹å¼ç¢¼

```html
<div id="outer" style="padding: 20px; background: #eee;">
  å¤–å±¤å…ƒç´ 
  <button id="inner">é»æˆ‘</button>
</div>

<script>
  const outer = document.getElementById('outer');
  const inner = document.getElementById('inner');

  outer.addEventListener('click', () => {
    console.log('å¤–å±¤å…ƒç´  - æ•ç²éšæ®µ');
  }, true); // æ•ç²éšæ®µ

  inner.addEventListener('click', () => {
    console.log('å…§å±¤æŒ‰éˆ• - å†’æ³¡éšæ®µ');
  }, false); // å†’æ³¡éšæ®µ
</script>
```

âœ… é»æ“ŠæŒ‰éˆ•æ™‚ï¼Œæœƒå…ˆé¡¯ç¤ºã€Œå¤–å±¤å…ƒç´  - æ•ç²éšæ®µã€ï¼Œå†é¡¯ç¤ºã€Œå…§å±¤æŒ‰éˆ• - å†’æ³¡éšæ®µã€

---

## ğŸ’¡ å°æŠ€å·§

- ä¸€èˆ¬äº‹ä»¶ç›£è½å¤šä½¿ç”¨é è¨­çš„å†’æ³¡éšæ®µï¼ˆ`false`ï¼‰ã€‚
- `capture: true` é©åˆç”¨åœ¨éœ€è¦**æ””æˆªå­å…ƒç´ äº‹ä»¶**æˆ–æå‰è™•ç†çš„æƒ…å¢ƒã€‚
- å¯èˆ‡ `stopPropagation()` æ­é…ï¼Œç²¾æº–æ§åˆ¶äº‹ä»¶æµç¨‹ã€‚

---

## ğŸ”— å»¶ä¼¸é–±è®€

- [[008.11.d-JS-äº‹ä»¶å‚³éæ©Ÿåˆ¶ï¼ˆå†’æ³¡èˆ‡æ•ç²ï¼‰]]
- [[008.11.g-JS-äº‹ä»¶ç§»é™¤ removeEventListener]]
- [[008.11.i-JS-äº‹ä»¶è§£é™¤èˆ‡å¤šäº‹ä»¶ç¶å®šæŠ€å·§]]