---
title: ğŸ“„ JavaScript-DocumentFragment
tags:
  - JavaScript
  - DOMæ“ä½œ
  - DocumentFragment
  - æ•ˆèƒ½å„ªåŒ–
aliases:
  - JS DocumentFragment
  - è™›æ“¬ç¯€é»å®¹å™¨
  - æ‰¹æ¬¡æ’å…¥ DOM
created: 2025-06-24
updated: 2025-06-24
status: å®Œæˆ
summary: æœ¬ç­†è¨˜ä»‹ç´¹ DocumentFragment çš„æ¦‚å¿µèˆ‡ä½¿ç”¨æ–¹å¼ï¼Œèªªæ˜å…¶å¦‚ä½•æ”¹å–„æ‰¹æ¬¡ DOM æ’å…¥æ“ä½œçš„æ•ˆèƒ½ï¼Œä¸¦æä¾›ç¯„ä¾‹èˆ‡ä½¿ç”¨æ™‚æ©Ÿã€‚
---
## ğŸ§  ä»€éº¼æ˜¯ `DocumentFragment`ï¼Ÿ

- `DocumentFragment` æ˜¯ä¸€å€‹è¼•é‡ç´šã€ç„¡çˆ¶ç¯€é»çš„ DOM å®¹å™¨ã€‚
- å®ƒ**å­˜åœ¨æ–¼è¨˜æ†¶é«”ä¸­**ï¼Œå¯ä»¥å…ˆå°‡å¤šå€‹ DOM å…ƒç´ åŠ å…¥å…¶ä¸­ï¼Œæœ€å¾Œä¸€æ¬¡æ€§æ’å…¥å¯¦éš›çš„ DOM ä¸­ï¼Œ**é¿å…å¤šæ¬¡è§¸ç™¼é‡ç¹ªèˆ‡å›æµï¼ˆreflow & repaintï¼‰**ã€‚
- æ’å…¥æ™‚ï¼Œ`DocumentFragment` æœ¬èº«ä¸æœƒå‡ºç¾åœ¨ DOM çµæ§‹ä¸­ï¼Œ**åªæœƒæ’å…¥å…¶å­ç¯€é»**ã€‚

---
## ğŸ§ª ä½¿ç”¨ç¯„ä¾‹

```javascript
const fragment = document.createDocumentFragment();

for (let i = 0; i < 100; i++) {
  const li = document.createElement('li');
  li.textContent = `é …ç›® ${i + 1}`;
  fragment.appendChild(li); // åŠ åˆ° fragment è£¡è€Œä¸æ˜¯ç›´æ¥åŠ åˆ° DOM
}

document.querySelector('ul').appendChild(fragment); // ä¸€æ¬¡æ€§åŠ å…¥åˆ° ul
```

âœ… å¥½è™•ï¼šåªæ“ä½œ DOM ä¸€æ¬¡ï¼Œå¤§å¹…æ¸›å°‘æ•ˆèƒ½æè€—ã€‚

---
## ğŸ§¾ ä½¿ç”¨æ™‚æ©Ÿ

|æƒ…å¢ƒ|èªªæ˜|
|---|---|
|ğŸ” æ‰¹æ¬¡æ–°å¢å¤§é‡å…ƒç´ |ä¾‹å¦‚ç”¢ç”Ÿ 100 ç­†æ¸…å–®é …ç›®|
|ğŸ“¦ å‹•æ…‹è¼‰å…¥æ¨¡æ¿ç‰‡æ®µ|AJAX å›å‚³å¾Œç”¢ç”Ÿå­ç¯€é»å¾Œæ’å…¥|
|ğŸš€ æé«˜ DOM æ“ä½œæ•ˆèƒ½|æ¸›å°‘é‡æ’èˆ‡é‡ç¹ªæ¬¡æ•¸|
|âŒ ä¸éœ€è¦ä¿ç•™å®¹å™¨ç¯€é»æœ¬èº«|`DocumentFragment` ä¸æœƒè¢«æ’å…¥ï¼Œåªä¿ç•™å…§å®¹|

---
## ğŸš« é™åˆ¶èˆ‡æ³¨æ„äº‹é …

- `DocumentFragment` ä¸èƒ½ç›´æ¥æ¸²æŸ“ï¼Œå®ƒæ˜¯è¨˜æ†¶é«”å…§éƒ¨çš„è™›æ“¬å®¹å™¨ã€‚
- ä¸€æ—¦ `appendChild` åˆ°å¯¦é«” DOMï¼Œfragment æœ¬èº«å°±è¢«æ¸…ç©ºäº†ï¼ˆ**ä¸€æ¬¡æ€§ä½¿ç”¨**ï¼‰ã€‚

---

## ğŸ” å»¶ä¼¸é–±è®€

- [[008.9-JS-DOMæ“ä½œ]]
- [[008.11-JS-äº‹ä»¶è™•ç†]]
- [[008.8-JS-JSONä»‹ç´¹èˆ‡æ‡‰ç”¨]]