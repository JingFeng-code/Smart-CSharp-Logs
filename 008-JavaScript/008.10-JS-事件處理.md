---
title: 008.10-JS-事件處理
tags: [JavaScript, 事件處理, 前端]
aliases: [JS事件, JavaScript事件]
created: 2025-06-23
updated: 2025-06-23
status: 完成
summary: JavaScript 事件處理基礎與進階技巧，包括事件監聽、事件物件、事件委派、冒泡與捕獲等內容。
---

## 1️⃣ 事件是什麼？

- 事件指的是瀏覽器中某件「事」發生了，比如使用者點擊、按鍵按下、表單提交等。
- 事件讓我們可以寫程式對使用者操作做出反應。

---
## 2️⃣ 事件監聽（Event Listener）

- 使用 `addEventListener` 來綁定事件處理函式，推薦使用此方式取代 HTML 事件屬性。
- 語法：

```javascript
element.addEventListener('事件類型', 函式, [useCapture]);
```

- `useCapture` 是布林值，表示是否使用事件捕獲階段（後面會介紹），預設為 `false`（使用冒泡階段）。

### 🛠️範例程式碼：

```javascript
const btn = document.getElementById('myButton');
btn.addEventListener('click', function() {
  alert('按鈕被點擊了！');
});
```

---
## 3️⃣ 事件物件（Event Object）

- 事件處理函式會接收到一個事件物件參數，包含事件的詳細資訊。
- 常用屬性：

|屬性|說明|
|---|---|
|`event.target`|觸發事件的元素|
|`event.type`|事件類型（例如 click）|
|`event.preventDefault()`|阻止預設行為（如超連結跳轉）|
|`event.stopPropagation()`|停止事件冒泡|

### 🛠️範例程式碼：

```javascript
btn.addEventListener('click', function(event) {
  console.log('點擊元素：', event.target);
  event.preventDefault();
});
```

---
## 4️⃣ 事件委派（Event Delegation）

- 不想每個子元素都綁事件時，可以在父元素上綁事件，利用事件冒泡機制捕捉子元素的事件。
- 可以提高性能、方便管理動態新增的元素。

### 🛠️範例程式碼：

```javascript
<ul id="list">
  <li>項目一</li>
  <li>項目二</li>
  <li>項目三</li>
</ul>
<script>
  const list = document.getElementById('list');
  list.addEventListener('click', function(event) {
    if (event.target.tagName === 'LI') {
      alert('你點擊了：' + event.target.textContent);
    }
  });
</script>
```

---
## 5️⃣ 事件傳遞：冒泡與捕獲

- 事件在 DOM 中傳遞分為三階段：
    - 捕獲階段（事件由根往目標元素方向傳遞）
    - 目標階段（事件到達目標元素）
    - 冒泡階段（事件由目標元素往根方向傳遞）
- `addEventListener` 第三個參數控制監聽事件是在捕獲階段（true）還是冒泡階段（false，預設）。

### 🛠️範例程式碼：

```javascript
element.addEventListener('click', handler, true); // 捕獲階段
element.addEventListener('click', handler, false); // 冒泡階段
```

---
## 6️⃣ 常見事件類型

|事件類型|作用說明|
|---|---|
|`click`|點擊事件|
|`dblclick`|雙擊事件|
|`mouseover`|滑鼠移入元素|
|`mouseout`|滑鼠移出元素|
|`keydown`|鍵盤按下|
|`keyup`|鍵盤放開|
|`submit`|表單提交|
|`change`|表單元素值改變|
|`input`|表單輸入內容變更|
|`focus`|元素獲得焦點|
|`blur`|元素失去焦點|

---
## 7️⃣ 建議與注意事項

- 儘量使用 `addEventListener` 綁定事件，避免使用 HTML 屬性事件。
    
- 使用事件委派提升效能與動態元素管理。
    
- 熟悉事件冒泡與捕獲，適時使用 `stopPropagation` 控制事件傳遞。
    
- 使用 `preventDefault` 阻止預設行為（如連結跳轉、表單提交等）。
    
- 綁定事件後，別忘了適當時機用 `removeEventListener` 解除綁定，避免記憶體洩漏。
    

---

## 8️⃣ 進階補充

### 解除事件監聽

```javascript
function handler(event) {
  console.log('事件觸發');
}
element.addEventListener('click', handler);

// 解除事件綁定
element.removeEventListener('click', handler);
```

### 一次綁定多個事件

```javascript
['click', 'mouseover'].forEach(eventType => {
  element.addEventListener(eventType, () => {
    console.log(eventType + ' 被觸發');
  });
});
```
