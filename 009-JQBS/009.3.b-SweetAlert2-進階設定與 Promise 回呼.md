---
title: ğŸ“Œ 009.3.b-SweetAlert2-é€²éšè¨­å®šèˆ‡ Promise å›å‘¼
tags:
  - SweetAlert2
  - Promise
  - Async
  - UI
aliases:
  - SweetAlert2 é€²éš
  - å½ˆçª—å›å‘¼
created: 2025-06-26
updated: 2025-06-26
status: å®Œæˆ
summary: æœ¬ç­†è¨˜ä»‹ç´¹å¦‚ä½•åˆ©ç”¨ SweetAlert2 çš„é€²éšè¨­å®šé¸é …å®¢è£½åŒ–å½ˆçª—å¤–è§€èˆ‡è¡Œç‚ºï¼Œä¸¦æ·±å…¥æ¢è¨ Promise å›å‘¼çš„æ‡‰ç”¨ï¼Œè™•ç†ä½¿ç”¨è€…äº’å‹•å¾Œçš„éåŒæ­¥é‚è¼¯ã€‚
---

## ğŸ“˜ Promise å›å‘¼ (Promise Callbacks)

`Swal.fire()` æ–¹æ³•æœƒå›å‚³ä¸€å€‹ **Promise** ç‰©ä»¶ã€‚é€™æ˜¯ä¸€å€‹éå¸¸ç¾ä»£çš„ JavaScript ç‰¹æ€§ï¼Œè®“ä½ èƒ½ä»¥æ›´ç°¡æ½”ã€å¯è®€çš„æ–¹å¼è™•ç†éåŒæ­¥æ“ä½œçš„çµæœã€‚

- **`then()`**: è™•ç† Promise æˆåŠŸè§£æ±ºï¼ˆresolvedï¼‰æ™‚çš„çµæœã€‚
- **`result` ç‰©ä»¶**: `then()` å‡½å¼æ¥æ”¶ä¸€å€‹ `result` ç‰©ä»¶ï¼Œé€™å€‹ç‰©ä»¶åŒ…å«ä½¿ç”¨è€…çš„æ“ä½œçµæœã€‚

#### **`result` ç‰©ä»¶çš„å±¬æ€§**

| å±¬æ€§Â  Â  Â  Â  Â  | èªªæ˜Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â |
|---------------|-----------------------------------------|
| `result.isConfirmed` | å¦‚æœä½¿ç”¨è€…é»æ“Šäº†ã€Œç¢ºèªã€æŒ‰éˆ•ï¼Œå‰‡ç‚º `true`ã€‚ |
| `result.isDenied`Â  Â  | å¦‚æœä½¿ç”¨è€…é»æ“Šäº†ã€Œæ‹’çµ•ã€æŒ‰éˆ•ï¼Œå‰‡ç‚º `true`ã€‚ |
| `result.isDismissed` | å¦‚æœå½ˆçª—å› å…¶ä»–åŸå› é—œé–‰ï¼ˆä¾‹å¦‚é»æ“ŠèƒŒæ™¯æˆ–æŒ‰ä¸‹ Esc éµï¼‰ï¼Œå‰‡ç‚º `true`ã€‚ |
| `result.value`Â  Â  Â  Â | å¦‚æœæ˜¯è¼¸å…¥å½ˆçª—ï¼Œé€™æ˜¯ä½¿ç”¨è€…è¼¸å…¥çš„å€¼ã€‚ |

**ç¯„ä¾‹**ï¼š
```javascript
// è®“ä½¿ç”¨è€…ç¢ºèªæ“ä½œï¼Œä¸¦æ ¹æ“šçµæœåŸ·è¡Œä¸åŒé‚è¼¯
Swal.fire({
  title: 'ç¢ºå®šè¦ç™»å‡ºå—ï¼Ÿ',
  icon: 'question',
  showDenyButton: true, // é¡¯ç¤ºã€Œæ‹’çµ•ã€æŒ‰éˆ•
  confirmButtonText: 'ç™»å‡º',
  denyButtonText: 'å–æ¶ˆ',
}).then((result) => {
  if (result.isConfirmed) {
    // åŸ·è¡Œç™»å‡ºå‹•ä½œ
    console.log('ä½¿ç”¨è€…å·²ç™»å‡º');
    Swal.fire('å·²ç™»å‡º!', '', 'success');
  } else if (result.isDenied) {
    // åŸ·è¡Œå–æ¶ˆå‹•ä½œ
    console.log('ä½¿ç”¨è€…å–æ¶ˆäº†ç™»å‡º');
    Swal.fire('å·²å–æ¶ˆ', '', 'info');
  }
});
```

---
## âš™ï¸ é€²éšè¨­å®šé¸é … (Advanced Options)

`Swal.fire()` çš„é¸é …ç‰©ä»¶å¯ä»¥è®“ä½ å®¢è£½åŒ–å½ˆçª—çš„å„å€‹ç´°ç¯€ã€‚

### 1. **æŒ‰éˆ•æ–‡å­—èˆ‡é¡¯ç¤º**

- `showConfirmButton`: é¡¯ç¤º/éš±è—ç¢ºèªæŒ‰éˆ• (é è¨­ `true`)ã€‚
- `showCancelButton`: é¡¯ç¤º/éš±è—å–æ¶ˆæŒ‰éˆ• (é è¨­ `false`)ã€‚
- `confirmButtonText`: è¨­å®šç¢ºèªæŒ‰éˆ•çš„æ–‡å­—ã€‚
- `cancelButtonText`: è¨­å®šå–æ¶ˆæŒ‰éˆ•çš„æ–‡å­—ã€‚
- `showDenyButton`: é¡¯ç¤º/éš±è—æ‹’çµ•æŒ‰éˆ• (é è¨­ `false`)ã€‚

### 2. **è‡ªå‹•é—œé–‰**

- `timer`: è¨­å®šå½ˆçª—è‡ªå‹•é—œé–‰çš„æ¯«ç§’æ•¸ã€‚
- `timerProgressBar`: é¡¯ç¤ºä¸€å€‹è¨ˆæ™‚é€²åº¦æ¢ã€‚

**ç¯„ä¾‹**ï¼š

```javascript
// å½ˆçª— 3 ç§’å¾Œè‡ªå‹•é—œé–‰ï¼Œä¸¦é¡¯ç¤ºé€²åº¦æ¢
Swal.fire({
  title: 'è¦–çª—å°‡åœ¨ 3 ç§’å¾Œé—œé–‰...',
  timer: 3000,
  timerProgressBar: true,
  didOpen: () => {
    Swal.showLoading(); // å½ˆçª—é–‹å•Ÿæ™‚é¡¯ç¤ºè¼‰å…¥å‹•ç•«
  },
});
```

### 3. **è¼‰å…¥å‹•ç•«**

- `showLoading()`: é¡¯ç¤ºä¸€å€‹è¼‰å…¥ä¸­çš„å‹•ç•«ï¼Œé€šå¸¸ç”¨åœ¨ AJAX è«‹æ±‚ä¸­ã€‚

**ç¯„ä¾‹**ï¼š

```javascript
// æ¨¡æ“¬ä¸€å€‹éœ€è¦ç­‰å¾…çš„éåŒæ­¥æ“ä½œ
Swal.fire({
  title: 'æ­£åœ¨æäº¤è³‡æ–™...',
  didOpen: () => {
    Swal.showLoading(); // å½ˆçª—é–‹å•Ÿæ™‚é¡¯ç¤ºè¼‰å…¥å‹•ç•«
  },
  allowOutsideClick: false // ä¸å…è¨±é»æ“ŠèƒŒæ™¯é—œé–‰
});

// å‡è¨­ AJAX è«‹æ±‚ 2 ç§’å¾Œå®Œæˆ
setTimeout(() => {
  Swal.fire('æäº¤æˆåŠŸ!', '', 'success');
}, 2000);
```

