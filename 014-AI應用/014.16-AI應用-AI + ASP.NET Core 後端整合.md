---
title: ğŸ–¥ï¸ 014.16-AIæ‡‰ç”¨-AI + ASP.NET Core å¾Œç«¯æ•´åˆ  
tags:
- AI
- ASP.NET Core
- å¾Œç«¯æ•´åˆ
- REST API
- LLM  
aliases:
- ASP.NET Core AI ä¸²æ¥
- å¾Œç«¯ AI æ‡‰ç”¨
- .NET AI  
created: 2025-07-23  
updated: 2025-07-23  
status: è‰ç¨¿  
summary: æœ¬ç¯‡ç­†è¨˜ä»‹ç´¹å¦‚ä½•åœ¨ ASP.NET Core å¾Œç«¯æ‡‰ç”¨ä¸­æ•´åˆ AI æœå‹™ï¼ŒåŒ…å«å‘¼å«å¤–éƒ¨ AI APIã€å°è£æ¨è«–æœå‹™ï¼Œä»¥åŠå¯¦ä½œå¸¸è¦‹ AI æ¨¡çµ„ï¼Œé©åˆ .NET é–‹ç™¼è€…å¿«é€Ÿä¸Šæ‰‹ AI å¾Œç«¯æ•´åˆã€‚
---

## 1ï¸âƒ£ ç‚ºä»€éº¼è¦åœ¨ ASP.NET Core æ•´åˆ AIï¼Ÿ

- åˆ©ç”¨å¾Œç«¯é‹ç®—èƒ½åŠ›ï¼Œé›†ä¸­ç®¡ç† AI æ¨¡å‹èˆ‡æœå‹™

- æ–¹ä¾¿å°è£ APIï¼Œå‰ç«¯çµ±ä¸€èª¿ç”¨

- å¯¦ç¾è¤‡é›œå•†æ¥­é‚è¼¯èˆ‡å®‰å…¨æ§ç®¡

- æ”¯æ´å¤šç”¨æˆ¶èˆ‡æ“´å±•æ€§

---

## 2ï¸âƒ£ å¸¸è¦‹ AI æœå‹™æ•´åˆé¸é …

|æœå‹™|èªªæ˜|å®˜æ–¹ SDK / æ–‡ä»¶|
|---|---|---|
|OpenAI GPT|å¤§å‹èªè¨€æ¨¡å‹æœå‹™|[OpenAI .NET SDK](https://github.com/openai-dotnet)|
|Hugging Face|å¤šç¨®æ¨¡å‹æ¨è«–|[HuggingFace .NET](https://github.com/huggingface)|
|Azure Cognitive Services|èªéŸ³ã€å½±åƒã€æ–‡å­— AI|Azure SDK for .NET|
|æœ¬åœ°æ¨¡å‹|Ollamaã€Local AI ç­‰|ä¾å¹³å°æ–‡ä»¶|

---
## 3ï¸âƒ£ ç¯„ä¾‹ï¼šå‘¼å« OpenAI GPT API

### 3.1 æ–°å¢ HttpClient æœå‹™

```csharp
builder.Services.AddHttpClient();
```

### 3.2 å¯¦ä½œ AI æœå‹™é¡åˆ¥

```csharp
using System.Net.Http.Headers;
using System.Text;
using System.Text.Json;

public class OpenAiService
{
    private readonly HttpClient _httpClient;
    private readonly string _apiKey;

    public OpenAiService(HttpClient httpClient, IConfiguration config)
    {
        _httpClient = httpClient;
        _apiKey = config["OpenAI:ApiKey"];
    }

    public async Task<string> GenerateTextAsync(string prompt)
    {
        var requestBody = new
        {
            model = "gpt-4o-mini",
            messages = new[]
            {
                new { role = "user", content = prompt }
            }
        };

        var json = JsonSerializer.Serialize(requestBody);
        var request = new HttpRequestMessage(HttpMethod.Post, "https://api.openai.com/v1/chat/completions");
        request.Headers.Authorization = new AuthenticationHeaderValue("Bearer", _apiKey);
        request.Content = new StringContent(json, Encoding.UTF8, "application/json");

        var response = await _httpClient.SendAsync(request);
        response.EnsureSuccessStatusCode();

        var responseJson = await response.Content.ReadAsStringAsync();
        using var doc = JsonDocument.Parse(responseJson);
        var content = doc.RootElement.GetProperty("choices")[0].GetProperty("message").GetProperty("content").GetString();

        return content ?? "";
    }
}
```

### 3.3 æ³¨å…¥èˆ‡ä½¿ç”¨æœå‹™

```csharp
// Program.cs æˆ– Startup.cs
builder.Services.AddHttpClient<OpenAiService>();

// Controller ç¯„ä¾‹
[ApiController]
[Route("api/[controller]")]
public class AiController : ControllerBase
{
    private readonly OpenAiService _openAi;

    public AiController(OpenAiService openAi)
    {
        _openAi = openAi;
    }

    [HttpPost("generate")]
    public async Task<IActionResult> Generate([FromBody] PromptRequest request)
    {
        var result = await _openAi.GenerateTextAsync(request.Prompt);
        return Ok(new { response = result });
    }
}

public class PromptRequest
{
    public string Prompt { get; set; } = string.Empty;
}
```

---
## 4ï¸âƒ£ æœ¬åœ°æ¨¡å‹æ•´åˆå»ºè­°

- å¯ä½¿ç”¨ Ollama API æˆ– Local AI æ¨¡å‹å°è£æœå‹™

- ä¾ç¡¬é«”è³‡æºé¸æ“‡æ¨¡å‹å¤§å°èˆ‡æ¨è«–æ–¹å¼

- æ³¨æ„æ¨¡å‹è³‡æºä½”ç”¨ï¼Œé¿å…æœå‹™ç“¶é ¸

---
## 5ï¸âƒ£ å®‰å…¨æ€§èˆ‡æ•ˆèƒ½è€ƒé‡

- å°å¤– API åŠ å…¥èªè­‰èˆ‡æ¬Šé™æ§ç®¡

- ä½¿ç”¨å¿«å–æ¸›å°‘é‡è¤‡è«‹æ±‚

- è¨­å®šè«‹æ±‚é »ç‡é™åˆ¶ï¼ˆRate Limitï¼‰

- æ—¥èªŒè¨˜éŒ„èˆ‡ç›£æ§

---
## ğŸ”— å»¶ä¼¸é–±è®€

- [[014.15-AIæ‡‰ç”¨-AI + Angular å‰ç«¯æ•´åˆ]]
- [[014.19-AIæ‡‰ç”¨-æ¨¡å‹éƒ¨ç½²èˆ‡å®¹å™¨åŒ– (Docker)]]
- [[014.12-AIæ‡‰ç”¨-Ollama æœ¬åœ° AI æ¨¡å‹å®‰è£èˆ‡ä½¿ç”¨]]