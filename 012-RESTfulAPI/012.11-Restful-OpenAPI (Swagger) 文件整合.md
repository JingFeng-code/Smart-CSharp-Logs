---
title: ğŸ“„ 012.11-Restful-OpenAPI (Swagger) æ–‡ä»¶æ•´åˆ  
tags:
- RESTful API 
- Swagger
- OpenAPI
- ASP.NET Core
- API æ–‡ä»¶è‡ªå‹•åŒ–  
aliases:
- Swagger æ•´åˆæ•™å­¸
- ASP.NET Core API æ–‡ä»¶
- OpenAPI ç”¢ç”Ÿå™¨  
created: 2025-07-24  
updated: 2025-07-24  
status: è‰ç¨¿  
summary: æœ¬ç¯‡ç­†è¨˜èªªæ˜å¦‚ä½•åœ¨ ASP.NET Core å°ˆæ¡ˆä¸­æ•´åˆ Swagger/OpenAPI æ–‡ä»¶å·¥å…·ï¼Œè®“ RESTful API å¯è‡ªå‹•ç”¢å‡ºäº’å‹•å¼æ–‡ä»¶ã€æ”¯æ´å‰å¾Œç«¯å”ä½œé–‹ç™¼èˆ‡æ¸¬è©¦é©—è­‰ã€‚åŒ…å« Swagger UI è¨­å®šã€ç‰ˆæœ¬æ§ç®¡ã€è‡ªå®šç¾©èªªæ˜èˆ‡å®‰å…¨æ€§è¨­å®šç­‰å¯¦ç”¨æŠ€å·§ã€‚
---

## ğŸ“˜ æœ¬ç¯‡é‡é»ç´¢å¼•

- OpenAPI èˆ‡ Swagger çš„ç°¡ä»‹

- å®‰è£èˆ‡æ•´åˆ Swagger å¥—ä»¶

- è¨­å®š Swagger UI èˆ‡ API æ–‡ä»¶å…§å®¹

- æ”¯æ´å¤šç‰ˆæœ¬ API / èªè­‰æ©Ÿåˆ¶

- å¯¦ç”¨å°æŠ€å·§èˆ‡éƒ¨ç½²æ³¨æ„äº‹é …

---
## 1ï¸âƒ£ ä»€éº¼æ˜¯ OpenAPI / Swaggerï¼Ÿ

|åç¨±|èªªæ˜|
|---|---|
|**OpenAPI**|ä¸€ç¨®æè¿° RESTful API çš„æ¨™æº–æ ¼å¼ï¼ˆå‰èº« Swagger Specï¼‰|
|**Swagger**|å¯¦ä½œå·¥å…·é›†åˆï¼Œç”¨ä¾†ç”¢ç”Ÿã€é¡¯ç¤ºã€æ¸¬è©¦ OpenAPI æ–‡ä»¶|

âœ… æ•´åˆ Swagger æœ‰åŠ©æ–¼ï¼š

- API è‡ªå‹•ç”¢å‡ºæ–‡ä»¶ï¼ˆJSONï¼‰

- Swagger UI æä¾›äº’å‹•å¼æ¸¬è©¦ä»‹é¢

- å‰å¾Œç«¯å”ä½œæ›´é †æš¢ï¼ˆè‡ªå‹•ç”Ÿæˆ client stubï¼‰

---
## 2ï¸âƒ£ å®‰è£èˆ‡å•Ÿç”¨ Swaggerï¼ˆASP.NET Coreï¼‰

ğŸ“¦ åŠ å…¥ NuGet å¥—ä»¶ï¼š

```bash
dotnet add package Swashbuckle.AspNetCore
```

âœï¸ åœ¨ `Program.cs` æˆ– `Startup.cs` åŠ å…¥ï¼š

```csharp
builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();
```

```csharp
var app = builder.Build();

if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}
```

---
## 3ï¸âƒ£ ç€è¦½ Swagger UI

å•Ÿå‹•å¾Œå¯æ–¼æœ¬æ©Ÿé è¨­ç¶²å€æ‰“é–‹ï¼š

```csharp
https://localhost:5001/swagger/index.html
```

ğŸ“Œ Swagger UI å¯ç›´æ¥æ¸¬è©¦ GET / POST / PUT / DELETEï¼Œä¸¦è¼¸å…¥åƒæ•¸é€²è¡Œæ¨¡æ“¬è«‹æ±‚ã€‚

---
## 4ï¸âƒ£ è‡ªè¨‚æ–‡ä»¶å…§å®¹ï¼ˆæ¨™é¡Œ / èªªæ˜ / ç‰ˆæœ¬ï¼‰

```csharp
builder.Services.AddSwaggerGen(options =>
{
    options.SwaggerDoc("v1", new OpenApiInfo
    {
        Title = "My API èªªæ˜æ–‡ä»¶",
        Version = "v1",
        Description = "é€™æ˜¯ ASP.NET Core æ’°å¯«çš„ RESTful API æ–‡ä»¶",
        Contact = new OpenApiContact
        {
            Name = "ä½ çš„åœ˜éšŠ",
            Email = "contact@example.com"
        }
    });
});
```

---
## 5ï¸âƒ£ åŠ å…¥ XML è¨»è§£ï¼ˆè®“ API æ–‡ä»¶æ›´å®Œæ•´ï¼‰

æ­¥é©Ÿï¼š

1ï¸âƒ£ åœ¨ `*.csproj` åŠ å…¥ï¼š

```xml
<PropertyGroup>
  <GenerateDocumentationFile>true</GenerateDocumentationFile>
  <NoWarn>$(NoWarn);1591</NoWarn>
</PropertyGroup>
```

2ï¸âƒ£ åœ¨ Swagger è¨»å†Šæ™‚è®€å– XMLï¼š

```csharp
var xmlFile = $"{Assembly.GetExecutingAssembly().GetName().Name}.xml";
var xmlPath = Path.Combine(AppContext.BaseDirectory, xmlFile);
options.IncludeXmlComments(xmlPath);
```

3ï¸âƒ£ ç‚º Controller èˆ‡ Action åŠ å…¥ `///` XML è¨»è§£ï¼š

```csharp
/// <summary>å–å¾—æ‰€æœ‰å•†å“æ¸…å–®</summary>
/// <returns>å•†å“é™£åˆ—</returns>
[HttpGet]
public IEnumerable<Product> GetAll() { ... }
```

---
## 6ï¸âƒ£ æ”¯æ´ API èªè­‰ï¼ˆJWT Bearerï¼‰

è‹¥ API ä½¿ç”¨ JWTï¼Œå¯åœ¨ Swagger åŠ å…¥èªè­‰ï¼š

```csharp
options.AddSecurityDefinition("Bearer", new OpenApiSecurityScheme
{
    Description = "JWT æˆæ¬Šæ ¼å¼ï¼šBearer {token}",
    In = ParameterLocation.Header,
    Name = "Authorization",
    Type = SecuritySchemeType.Http,
    Scheme = "bearer"
});

options.AddSecurityRequirement(new OpenApiSecurityRequirement
{
    {
        new OpenApiSecurityScheme
        {
            Reference = new OpenApiReference
            {
                Type = ReferenceType.SecurityScheme,
                Id = "Bearer"
            }
        },
        Array.Empty<string>()
    }
});
```

ğŸ“ åŠ ä¸Šå¾Œï¼ŒSwagger UI ä¸Šæœƒå‡ºç¾ `Authorize` æŒ‰éˆ•ä¾›è¼¸å…¥ token

---
## 7ï¸âƒ£ å¤šç‰ˆæœ¬ API æ–‡ä»¶æ”¯æ´ï¼ˆé€²éšï¼‰

```csharp
options.SwaggerDoc("v1", new OpenApiInfo { Title = "API v1", Version = "v1" });
options.SwaggerDoc("v2", new OpenApiInfo { Title = "API v2", Version = "v2" });

options.DocInclusionPredicate((docName, apiDesc) =>
{
    return apiDesc.GroupName == docName;
});
```

---
## âœ… å°çµ

- Swagger æ˜¯ OpenAPI çš„å¯¦ä½œå·¥å…·ï¼Œå¯è‡ªå‹•ç”¢ç”Ÿ API æ–‡ä»¶èˆ‡æ¸¬è©¦ç•Œé¢

- `Swashbuckle.AspNetCore` æ˜¯æ•´åˆçš„å®˜æ–¹å¥—ä»¶

- å¯è‡ªå®šç¾©æ–‡ä»¶æ¨™é¡Œã€èªªæ˜ã€ç‰ˆæœ¬èˆ‡å®‰å…¨æ€§æ©Ÿåˆ¶

- é©ç”¨æ–¼å…§éƒ¨é–‹ç™¼èˆ‡å°å¤– API æ–‡ä»¶å±•ç¤º

---

## ğŸ”— å»¶ä¼¸é–±è®€

- [Swashbuckle å®˜æ–¹æ–‡ä»¶](https://github.com/domaindrivendev/Swashbuckle.AspNetCore)
- [OpenAPI è¦ç¯„èªªæ˜](https://swagger.io/specification/)
- [ASP.NET Core ä¸­æ•´åˆ Swagger æ•™å­¸ï¼ˆMS Learnï¼‰](https://learn.microsoft.com/zh-tw/aspnet/core/tutorials/getting-started-with-swashbuckle)