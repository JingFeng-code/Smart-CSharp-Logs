---
title: ğŸš€ 015.15-Angular-å»ºæ§‹èˆ‡éƒ¨ç½²æµç¨‹  
tags:
- Angular
- éƒ¨ç½²
- Build
- CLI
- Production
- å‰ç«¯éƒ¨ç½²  
aliases:
- Angular éƒ¨ç½²æ•™å­¸
- Angular build æµç¨‹
- Angular å°ˆæ¡ˆä¸Šç·š  
created: 2025-07-23  
updated: 2025-07-23  
status: è‰ç¨¿  
summary: æœ¬ç¯‡ç­†è¨˜æ•´ç†å¦‚ä½•å°‡ Angular å°ˆæ¡ˆå¾é–‹ç™¼éšæ®µå»ºæ§‹ç‚ºå¯éƒ¨ç½²çš„ç”¢ç·šç‰ˆæœ¬ï¼Œä¸¦å¯¦éš›éƒ¨ç½²è‡³ä¸åŒå¹³å°ï¼ˆå¦‚ IISã€Nginxã€GitHub Pages æˆ– Firebase Hostingï¼‰ï¼Œå”åŠ©ä½ é †åˆ©å®Œæˆå°ˆæ¡ˆä¸Šç·šæµç¨‹ã€‚
---

## ğŸ“˜ æœ¬ç¯‡é‡é»ç´¢å¼•

- Angular å°ˆæ¡ˆå»ºæ§‹ï¼ˆbuildï¼‰æµç¨‹èªªæ˜

- å¦‚ä½•ç”¢å‡º production ç‰ˆæœ¬

- éƒ¨ç½²åˆ°æœ¬æ©Ÿä¼ºæœå™¨ï¼ˆå¦‚ IIS / Nginxï¼‰

- éƒ¨ç½²åˆ° GitHub Pages / Firebase Hosting

- å¸¸è¦‹éƒ¨ç½²éŒ¯èª¤èˆ‡æ’è§£

---

## 1ï¸âƒ£ å»ºæ§‹ Angular å°ˆæ¡ˆ

ä½¿ç”¨ Angular CLI åŸ·è¡Œä¸‹åˆ—æŒ‡ä»¤å¯ç”¢å‡ºç”Ÿç”¢ç”¨ç‰ˆæœ¬ï¼ˆproduction buildï¼‰ï¼š

```bash
ng build --configuration production
```

æ­¤æŒ‡ä»¤æœƒï¼š

- ç”¢å‡ºå£“ç¸®ã€æœ€ä½³åŒ–å¾Œçš„éœæ…‹æª”æ¡ˆ

- é è¨­ç”¢ç‰©è¼¸å‡ºåœ¨ `/dist/ä½ çš„å°ˆæ¡ˆå` ç›®éŒ„ä¸‹

- åŒ…å« `index.html`, `.js`, `.css`, assets ç­‰éœæ…‹è³‡æº

ğŸ“ è‹¥æœ‰è¨­å®š `baseHref` å¯åŠ ä¸Šï¼š

```bash
ng build --configuration production --base-href /myapp/
```

---

## 2ï¸âƒ£ å°‡å°ˆæ¡ˆéƒ¨ç½²åˆ°æœ¬æ©Ÿä¼ºæœå™¨

### âœ… é¸é …ä¸€ï¼šIIS éƒ¨ç½²ï¼ˆWindowsï¼‰

1. å°‡ `dist` å…§å®¹è¤‡è£½åˆ° IIS ç¶²ç«™æ ¹ç›®éŒ„

2. ç¢ºä¿ web.config è¨­å®š Angular è·¯ç”±æ”¯æ´ï¼š

```xml
<configuration>
  <system.webServer>
    <rewrite>
      <rules>
        <rule name="Angular Routes" stopProcessing="true">
          <match url=".*" />
          <conditions logicalGrouping="MatchAll">
            <add input="{REQUEST_FILENAME}" matchType="IsFile" negate="true" />
            <add input="{REQUEST_FILENAME}" matchType="IsDirectory" negate="true" />
          </conditions>
          <action type="Rewrite" url="/index.html" />
        </rule>
      </rules>
    </rewrite>
  </system.webServer>
</configuration>
```

### âœ… é¸é …äºŒï¼šNginxï¼ˆLinuxï¼‰

```nginx
server {
  listen 80;
  server_name example.com;
  root /var/www/myapp;

  location / {
    try_files $uri $uri/ /index.html;
  }
}
```

---
## 3ï¸âƒ£ å°‡å°ˆæ¡ˆéƒ¨ç½²åˆ° GitHub Pages

ä½¿ç”¨å®˜æ–¹å¥—ä»¶ï¼š

```bash
ng add angular-cli-ghpages
ng build --configuration production --base-href /ä½ çš„Repoå/
npx angular-cli-ghpages --dir=dist/ä½ çš„å°ˆæ¡ˆå
```

éƒ¨ç½²å¾Œå¯æ–¼ `https://ä½ çš„å¸³è™Ÿ.github.io/ä½ çš„Repoå/` ç€è¦½ã€‚

---
## 4ï¸âƒ£ éƒ¨ç½²åˆ° Firebase Hostingï¼ˆå« CI/CD æ”¯æ´ï¼‰

### ğŸ”§ åˆå§‹åŒ–

```bash
npm install -g firebase-tools
firebase login
firebase init
```

é¸æ“‡ Hostingï¼Œä¸¦è¨­å®š public folder ç‚ºï¼š
```text
dist/ä½ çš„å°ˆæ¡ˆå
```

### ğŸš€ éƒ¨ç½²

```bash
ng build --configuration production
firebase deploy
```

---
## 5ï¸âƒ£ å¸¸è¦‹éƒ¨ç½²éŒ¯èª¤æ’æŸ¥

|éŒ¯èª¤è¨Šæ¯|åŸå› èˆ‡è§£æ³•|
|---|---|
|404 not found|æ²’è¨­å®šè·¯ç”± fallbackï¼Œéœ€é…ç½® Nginx/IIS å°‡æœªçŸ¥è·¯å¾‘å°å› index.html|
|base href éŒ¯èª¤|build æ™‚åŠ ä¸Š `--base-href` æˆ–æ–¼ `index.html` è¨­å®šæ­£ç¢ºè·¯å¾‘|
|éœæ…‹è³‡æºæŠ“ä¸åˆ° (.css, .js)|ç¢ºèªéƒ¨ç½²è³‡æ–™å¤¾æ˜¯å¦å®Œæ•´ã€ä¼ºæœå™¨æ¬Šé™è¨­å®š|
|CORS éŒ¯èª¤|å‰ç«¯å‘¼å« API è·¨ç¶²åŸŸï¼Œéœ€å¾Œç«¯è¨­å®š CORS|

---
## âœ… å°çµ

- ä½¿ç”¨ `ng build --configuration production` å»ºæ§‹å°ˆæ¡ˆ

- å¯éƒ¨ç½²åˆ° IISã€Nginxã€GitHub Pages æˆ– Firebase

- è·¯ç”±èˆ‡è³‡æºé…ç½®æ­£ç¢ºæ˜¯éƒ¨ç½²æˆåŠŸçš„é—œéµ

- å»ºè­°ç”¨ CI/CD è‡ªå‹•åŒ–éƒ¨ç½²æé«˜æ•ˆç‡èˆ‡ç©©å®šæ€§

---

## ğŸ”— å»¶ä¼¸é–±è®€

- [[015.14-Angular-èˆ‡ ASP.NET Core API ä¸²æ¥æ•´åˆ]]
- [[015.10-Angular-æœ€ä½³å¯¦å‹™èˆ‡æ•ˆèƒ½å„ªåŒ–]]
- [Angular CLI build èªªæ˜](https://v17.angular.io/cli/build)
- [Firebase Hosting å®˜æ–¹æ–‡ä»¶](https://firebase.google.com/docs/hosting?hl=zh-tw)
- [GitHub Pages æŒ‡å—](https://docs.github.com/en/pages)