---
title: 🗂️ 010.3-PowerBI-資料模型與關聯
tags:
  - PowerBI
  - 資料模型
  - 關聯設計
  - BI工具
aliases:
  - Power BI 資料模型
  - Power BI 關聯
created: 2025-07-02
updated: 2025-07-02
status: 草稿
summary: 介紹 Power BI 資料模型的基本概念、關聯設定方式、常見模型結構與最佳實務，協助建立高效且易維護的分析架構。
---

## 🗂️ 資料模型基本概念

- **資料模型**：將多個資料表依照邏輯關聯組成一個可供分析的結構，類似資料庫中的關聯式模型。
- **表格類型**：
  - **事實表**（Fact Table）：儲存數值型資料（如銷售、交易），通常包含多個外鍵。
  - **維度表**（Dimension Table）：描述性資料（如產品、客戶、時間），用於分類與切片分析。

---

## 🔗 關聯設定方式

- **自動偵測**：Power BI 會根據欄位名稱及資料型態自動建立關聯。
- **手動設定**：
  1. 點選「模型」檢視（Model View）。
  2. 拖曳欄位至目標表格，建立關聯線。
  3. 設定關聯類型（單向/雙向）、交集行為等。
- **關聯類型**：
  - 一對多（One-to-Many）：最常見，維度表對事實表。
  - 多對一（Many-to-One）：邏輯上與一對多相同，方向相反。
  - 多對多（Many-to-Many）：需注意資料重複與分析邏輯。
- **交集方向**：
  - 單向（Single）：預設，僅單一方向過濾。
  - 雙向（Both）：雙向過濾，適用於複雜分析，但需小心循環依賴。

---

## 🏷️ 常見資料模型結構

- **星型模型（Star Schema）**：
  - 一個事實表，連接多個維度表。
  - 結構簡單、查詢效能高，推薦使用。
- **雪花模型（Snowflake Schema）**：
  - 維度表再細分為多層結構。
  - 結構複雜，維護較難，但有助於資料正規化。
- **扁平模型**：
  - 所有資料集中於單一表格。
  - 不建議用於大型或複雜分析，維護困難。

---

## ⚠️ 常見問題與排查

- **關聯未正確建立**：導致資料無法正確串聯，需檢查主鍵/外鍵欄位與資料型態。
- **循環依賴**：關聯設計出現循環，Power BI 會提示錯誤，須調整結構。
- **多對多關聯陷阱**：分析時易出現重複或不一致結果，建議盡量避免。
- **資料過濾異常**：檢查關聯方向與過濾設定，確保資料流正確。

---

## 🛠️ 建模最佳實務

- 優先採用「星型模型」設計，簡化結構。
- 維度表設主鍵，事實表設外鍵，確保唯一性。
- 避免不必要的雙向關聯，降低循環風險。
- 定期檢查資料型態與關聯正確性。
- 將計算欄位、度量值集中於事實表或專用表格，提升維護性。

---

## 🔍 實用技巧

- **模型檢視**：善用「模型」檢視拖曳、調整表格布局，提升可讀性。
- **隱藏不必要欄位**：減少報表端混亂。
- **建立日期表**：分析時間序列必備，可自動產生或自訂。
- **使用 DAX 建立計算欄位/度量值**：強化分析能力。

---

## 🔗 相關卡片

- [[010.2-PowerBI-資料匯入與轉換]]
- [[010.4-PowerBI-視覺化圖表應用]]
- [[010.5-PowerBI-DAX 基礎語法]]
