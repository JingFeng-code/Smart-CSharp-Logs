---
title: ğŸ”§ LINQ - ç•°æ­¥æŸ¥è©¢
tags: [LINQ, ç•°æ­¥æŸ¥è©¢]
aliases: [LINQ ç•°æ­¥æŸ¥è©¢]
created: 2025-06-23
updated: 2025-06-23
status: å®Œæˆ
summary: æœ¬ç­†è¨˜ä»‹ç´¹ LINQ ä¸­çš„ç•°æ­¥æŸ¥è©¢æ¦‚å¿µåŠå…¶å¯¦ç¾ï¼Œå¹«åŠ©ç†è§£å¦‚ä½•åœ¨ C# ä¸­ä½¿ç”¨ç•°æ­¥æ“ä½œé€²è¡Œè³‡æ–™æŸ¥è©¢ã€‚
---

# ğŸ”§ ç•°æ­¥æŸ¥è©¢

> LINQ ç•°æ­¥æŸ¥è©¢å…è¨±é–‹ç™¼è€…åœ¨ä¸é˜»å¡ä¸»åŸ·è¡Œç·’çš„æƒ…æ³ä¸‹é€²è¡Œè³‡æ–™æŸ¥è©¢ï¼Œç‰¹åˆ¥é©åˆè™•ç† I/O å¯†é›†å‹æ“ä½œï¼Œå¦‚è³‡æ–™åº«æŸ¥è©¢ã€‚

## 1ï¸âƒ£ åŸºæœ¬æ¦‚å¿µ

- ä½¿ç”¨ `async` å’Œ `await` é—œéµå­—ä¾†å¯¦ç¾ç•°æ­¥æŸ¥è©¢ã€‚
- ç•°æ­¥æŸ¥è©¢æœƒè¿”å› `Task<T>`ï¼Œé€™ä½¿å¾—æŸ¥è©¢å¯ä»¥åœ¨èƒŒæ™¯åŸ·è¡Œã€‚

## 2ï¸âƒ£ ä½¿ç”¨ Entity Framework çš„ç•°æ­¥æŸ¥è©¢

- é€é Entity Framework çš„ç•°æ­¥æ–¹æ³•ï¼ˆå¦‚ `ToListAsync`ã€`FirstOrDefaultAsync`ï¼‰ä¾†é€²è¡Œç•°æ­¥è³‡æ–™æŸ¥è©¢ã€‚

### ğŸ› ï¸ ç¯„ä¾‹ç¨‹å¼ç¢¼

```csharp
using System.Data.Entity; // ç¢ºä¿å¼•ç”¨ Entity Framework

public class Product
{
    public int Id { get; set; }
    public string Name { get; set; }
}

public class AppDbContext : DbContext
{
    public DbSet<Product> Products { get; set; }
}

public class Program
{
    public static async Task Main()
    {
        using (var context = new AppDbContext())
        {
            var products = await context.Products.ToListAsync(); // ç•°æ­¥æŸ¥è©¢
            foreach (var product in products)
            {
                Console.WriteLine(product.Name);
            }
        }
    }
}
```

## 3ï¸âƒ£ ç•°æ­¥ LINQ æŸ¥è©¢

- LINQ æŸ¥è©¢ä¹Ÿå¯ä»¥èˆ‡ç•°æ­¥æ–¹æ³•çµåˆä½¿ç”¨ï¼Œæä¾›éˆæ´»çš„è³‡æ–™æŸ¥è©¢æ–¹å¼ã€‚

### ğŸ› ï¸ ç¯„ä¾‹ç¨‹å¼ç¢¼

```csharp
public class Program
{
    public static async Task Main()
    {
        using (var context = new AppDbContext())
        {
            var query = from p in context.Products
                        where p.Name.StartsWith("A")
                        select p;

            var result = await query.ToListAsync(); // ç•°æ­¥åŸ·è¡Œ LINQ æŸ¥è©¢
            foreach (var product in result)
            {
                Console.WriteLine(product.Name);
            }
        }
    }
}
```

## 4ï¸âƒ£ å¯¦è¸å»ºè­°

- ğŸ”¹ åœ¨éœ€è¦é€²è¡Œ I/O æ“ä½œï¼ˆå¦‚è³‡æ–™åº«æŸ¥è©¢æˆ–ç¶²çµ¡è«‹æ±‚ï¼‰æ™‚ï¼Œå„ªå…ˆä½¿ç”¨ç•°æ­¥æŸ¥è©¢ä»¥æé«˜æ‡‰ç”¨ç¨‹å¼çš„éŸ¿æ‡‰æ€§ã€‚
- ğŸ”¹ ç¢ºä¿ç•°æ­¥æ–¹æ³•çš„æ­£ç¢ºä½¿ç”¨ï¼Œä»¥é¿å…æ­»é–å’Œæ€§èƒ½å•é¡Œã€‚

## 5ï¸âƒ£ å°çµ

- LINQ ç•°æ­¥æŸ¥è©¢æä¾›äº†ä¸€ç¨®é«˜æ•ˆçš„æ–¹å¼ä¾†è™•ç†è³‡æ–™æŸ¥è©¢ï¼Œç‰¹åˆ¥æ˜¯åœ¨éœ€è¦æé«˜æ‡‰ç”¨ç¨‹å¼æ€§èƒ½çš„æƒ…æ³ä¸‹ã€‚